openapi: "3.0.0"
info:
  version: 1.0.0
  title: OpenApi TFG
  license:
    name: MIT
servers:
  - url: http://localhost:8080/v1


paths:
  /project:
    summary: Company projects
    get:
      summary: List all projects
      description: Returns a list of all projects
      operationId: getProjects
      tags:
        - project
      responses:
        '200':
          description: A paged array of projects
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/project"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

    post:
      summary: Adds a new project
      description: Adds a new project
      operationId: addProject
      tags:
        - project
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/project"
      responses:
        '201':
          description: A project has been added
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/project"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

  /project/{projectcode}:
    get:
      summary: Gets a project by the code
      description: Returns an individual project, identified by a code
      operationId: getProjectByCode
      parameters:
        - name: projectcode
          in: path
          required: true
          schema:
            type: integer
            format: int64
          description: String that represents the code of a project
      tags:
        - project
      responses:
        '200':
          description: A project
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/project"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

    put:
      summary: Updates the given project
      description: Updates the entirety of a project
      operationId: updateProject
      parameters:
        - name: projectcode
          in: path
          required: true
          schema:
            type: integer
            format: int64
          description: String that represents the code of a project
      tags:
        - project
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/project"
      responses:
        '200':
          description: A project has been updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/project"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

    patch:
      summary: Updates some of the information of a project
      description: Updates part of a project
      parameters:
        - name: projectcode
          in: path
          required: true
          schema:
            type: integer
            format: int64
          description: String that represents the code of a project
      operationId: patchProject
      tags:
        - project
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/patchedProject"
      responses:
        '200':
          description: A project has been updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/project"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

    delete:
      summary: Deletes the given project
      description: Deletes the project
      parameters:
        - name: projectcode
          in: path
          required: true
          schema:
            type: integer
            format: int64
          description: String that represents the code of a project
      operationId: deleteProject
      tags:
        - project
      responses:
        '200':
          description: A project has been deleted
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

  /position:
    summary: Company positions
    description: Returns a list of all positions
    get:
      summary: List all available positions
      operationId: getPositions
      tags:
        - position
      responses:
        '200':
          description: A paged array of positions
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/position"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

    post:
      summary: Adds a new position
      description: Adds a new position
      operationId: addPosition
      tags:
        - position
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/position"
      responses:
        '201':
          description: A position has been added
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/position"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

  /position/{positioncode}:
    get:
      summary: Gets a position by the code
      description: Returns an individual position, identified by a code
      operationId: getPositionByCode
      parameters:
        - name: positioncode
          in: path
          required: true
          schema:
            type: string
          description: String that represents the code of a position
      tags:
        - position
      responses:
        '200':
          description: A position
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/position"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

    put:
      summary: Updates the given position
      description: Updates the entirety of a position
      operationId: updatePosition
      parameters:
        - name: positioncode
          in: path
          required: true
          schema:
            type: string
          description: String that represents the code of a position
      tags:
        - position
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/position"
      responses:
        '200':
          description: A position has been updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/position"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

    patch:
      summary: Updates some of the information of a position
      description: Updates part of a position
      parameters:
        - name: positioncode
          in: path
          required: true
          schema:
            type: string
          description: String that represents the code of a position
      operationId: patchPosition
      tags:
        - position
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/patchedPosition"
      responses:
        '200':
          description: A position has been updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/position"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

    delete:
      summary: Deletes the given position
      description: Deletes the position
      parameters:
        - name: positioncode
          in: path
          required: true
          schema:
            type: string
          description: String that represents the code of a position
      operationId: deletePosition
      tags:
        - position
      responses:
        '200':
          description: A position has been deleted
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

  /position/{positioncode}/candidates:
    post:
      summary: Generate new candidates for a position
      description: Generate candidates
      parameters:
        - name: positioncode
          in: path
          required: true
          schema:
            type: string
          description: String that represents the code of a position
      operationId: generateCandidates
      tags:
        - position
      responses:
        '200':
          description: The list of candidates regenerated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/position"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

    get:
      summary: List all candidates of the position
      parameters:
        - name: positioncode
          in: path
          required: true
          schema:
            type: string
          description: String that represents the code of a position
      operationId: getPositionCandidates
      tags:
        - position
      responses:
        '200':
          description: A paged array of candidates
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/candidate"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

  /position/{positioncode}/people/{peoplecode}:
    post:
      summary: Assign a candidate to a position
      description: Assign a candidate
      parameters:
        - name: positioncode
          in: path
          required: true
          schema:
            type: string
          description: String that represents the code of a position
        - name: peoplecode
          in: path
          required: true
          schema:
            type: integer
            format: int64
          description: Number that represents the code of a person that is a candidate of the position
      operationId: assignCandidate
      tags:
        - position
      responses:
        '200':
          description: The position with the candidate assigned
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/position"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

  /people:
    summary: Company people
    description: Returns a list of all people in the company
    get:
      summary: List all available people
      operationId: getPeople
      tags:
        - people
      responses:
        '200':
          description: A paged array of people
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/people"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

    post:
      summary: Adds a new person
      description: Adds a new person
      operationId: addPerson
      tags:
        - people
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/people"
      responses:
        '201':
          description: A person has been added
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/people"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

  /person/{personcode}:
    get:
      summary: Gets a person by the code
      description: Returns an individual person, identified by a code
      operationId: getPersonByCode
      parameters:
        - name: personcode
          in: path
          required: true
          schema:
            type: integer
            format: int64
          description: String that represents the code of a person
      tags:
        - people
      responses:
        '200':
          description: A person
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/people"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

    put:
      summary: Updates the given person
      description: Updates the entirety of a person
      operationId: updatePerson
      parameters:
        - name: personcode
          in: path
          required: true
          schema:
            type: integer
            format: int64
          description: String that represents the code of a person
      tags:
        - people
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/people"
      responses:
        '200':
          description: A person has been updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/people"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

    patch:
      summary: Updates some of the information of a person
      description: Updates part of a person
      parameters:
        - name: personcode
          in: path
          required: true
          schema:
            type: integer
            format: int64
          description: String that represents the code of a person
      operationId: patchPerson
      tags:
        - people
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/patchedPeople"
      responses:
        '200':
          description: A person has been updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/people"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

    delete:
      summary: Deletes the given person
      description: Deletes a person
      parameters:
        - name: personcode
          in: path
          required: true
          schema:
            type: integer
            format: int64
          description: String that represents the code of a person
      operationId: deletePerson
      tags:
        - people
      responses:
        '200':
          description: A person has been deleted
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

  /person/{peoplecode}/position/{positioncode}:
    post:
      summary: Assign a candidate to a position
      description: Assign a candidate
      parameters:
        - name: peoplecode
          in: path
          required: true
          schema:
            type: integer
            format: int64
          description: Number that represents the code of a person that is a candidate of the position
        - name: positioncode
          in: path
          required: true
          schema:
            type: string
          description: String that represents the code of a position
      operationId: assignCandidate
      tags:
        - position
      responses:
        '200':
          description: The candidate assigned to the position
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/people"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

  /person/{peoplecode}/candidates:
    get:
      summary: List all candidacies of the person
      parameters:
        - name: peoplecode
          in: path
          required: true
          schema:
            type: integer
            format: int64
          description: Long that represents the code of a person
      operationId: getPeopleCandidates
      tags:
        - people
      responses:
        '200':
          description: A paged array of candidates
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/candidate"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

  /person/{peoplecode}/assignments:
    get:
      summary: List all positions of a person that has been assigned to
      parameters:
        - name: peoplecode
          in: path
          required: true
          schema:
            type: integer
            format: int64
          description: Long that represents the code of a person
      operationId: getPeopleAssignedPositions
      tags:
        - people
      responses:
        '200':
          description: A paged array of positions
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/position"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

  /people/skills:
    get:
      summary: List of people that know all the skills given
      parameters:
        - in: query
          name: skillList
          required: true
          explode: false
          schema:
            type: array
            items:
              type: string
          description: List of skills
      operationId: getPeopleSkills
      tags:
        - people
      responses:
        '200':
          description: A paged array of people
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/people"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

  /people/strategic/team/{teamcode}:
    get:
      summary: List people outside the team that works with their strategic skills
      parameters:
        - name: teamcode
          in: path
          required: true
          schema:
            type: string
          description: String that represents the code of a team
      operationId: getOtherPeopleStrategicSkills
      tags:
        - people
      responses:
        '200':
          description: A list of people
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/people"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

  /skills:
    summary: Skills on the skill tree
    description: Returns a list of all skills
    get:
      summary: List all available skills
      operationId: getSkills
      tags:
        - skills
      responses:
        '200':
          description: A paged array of skills
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/skill"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

  /skills/{skillcode}:
    get:
      summary: Gets a skill by the code as well as the skills under it
      description: Returns an individual skill as well as the skills under it, identified by a code
      operationId: getSkillByCode
      parameters:
        - name: skillcode
          in: path
          required: true
          schema:
            type: string
          description: String that represents the code of a skill
      tags:
        - skills
      responses:
        '200':
          description: A skill
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/skill"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

  /skills/strategic:
    get:
      summary: Gets all the members of a team that work with strategic skills
      description: Returns a list of people
      operationId: getStrategicSkillsUse
      tags:
        - skill
      responses:
        '200':
          description: A array of strategic skills and the people who use them
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/strategicTeamSkill"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

  /skills/nostrategic:
    get:
      summary: Gets all the skills filtered by teams that are not used by any member
      description: Returns a list of people
      operationId: getNoStrategicSkillsUse
      tags:
        - skill
      responses:
        '200':
          description: A array of strategic skills that none works with
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/strategicTeamSkillNotUsed"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
  /candidate:
    summary: Candidates
    description: Returns a list of all the company candidates
    get:
      summary: List all candidates
      operationId: getCandidates
      tags:
        - candidate
      responses:
        '200':
          description: A paged array of candidates
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/candidate"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"


  /candidate/{candidatecode}:
    get:
      summary: Gets a candidate by the code
      description: Returns an individual candidate, identified by a code
      operationId: getCandidateByCode
      parameters:
        - name: candidatecode
          in: path
          required: true
          schema:
            type: string
          description: String that represents the code of a candidate
      tags:
        - candidate
      responses:
        '200':
          description: A candidate
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/candidate"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

    put:
      summary: Updates the given candidate
      description: Updates the entirety of a candidate
      operationId: updateCandidate
      parameters:
        - name: candidatecode
          in: path
          required: true
          schema:
            type: string
          description: String that represents the code of a candidate
      tags:
        - candidate
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/candidate"
      responses:
        '200':
          description: A candidate has been updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/candidate"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

    patch:
      summary: Updates some of the information of a candidate
      description: Updates part of a candidate
      parameters:
        - name: candidatecode
          in: path
          required: true
          schema:
            type: string
          description: String that represents the code of a candidate
      operationId: patchCandidate
      tags:
        - candidate
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/patchedCandidate"
      responses:
        '200':
          description: A candidate has been updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/candidate"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

    delete:
      summary: Deletes the given candidate
      description: Deletes a candidate
      parameters:
        - name: candidatecode
          in: path
          required: true
          schema:
            type: string
          description: String that represents the code of a candidate
      operationId: deleteCandidate
      tags:
        - candidate
      responses:
        '200':
          description: A candidate has been deleted
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

  /client:
    summary: Clients
    description: Returns a list of all the company clients
    get:
      summary: List all clients
      operationId: getClients
      tags:
        - client
      responses:
        '200':
          description: A paged array of clients
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/client"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

    post:
      summary: Adds a new client
      description: Adds a new client
      operationId: addClient
      tags:
        - client
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/client"
      responses:
        '200':
          description: A client has been added
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/client"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

  /client/{clientcode}:
    get:
      summary: Gets a client by the code
      description: Returns an individual client, identified by a code
      operationId: getClientByCode
      parameters:
        - name: clientcode
          in: path
          required: true
          schema:
            type: integer
            format: int64
          description: String that represents the code of a client
      tags:
        - client
      responses:
        '200':
          description: A client
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/client"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

    put:
      summary: Updates the given client
      description: Updates the entirety of a client
      operationId: updateClient
      parameters:
        - name: clientcode
          in: path
          required: true
          schema:
            type: integer
            format: int64
          description: String that represents the code of a client
      tags:
        - client
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/client"
      responses:
        '200':
          description: A client has been updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/client"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

    patch:
      summary: Updates some of the information of a client
      description: Updates part of a client
      parameters:
        - name: clientcode
          in: path
          required: true
          schema:
            type: integer
            format: int64
          description: String that represents the code of a client
      operationId: patchClient
      tags:
        - client
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/patchedClient"
      responses:
        '200':
          description: A client has been updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/client"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

    delete:
      summary: Deletes the given client
      description: Deletes a client
      parameters:
        - name: clientcode
          in: path
          required: true
          schema:
            type: integer
            format: int64
          description: String that represents the code of a client
      operationId: deleteClient
      tags:
        - client
      responses:
        '200':
          description: A client has been deleted
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

  /team:
    summary: Teams
    description: Returns a list of all the company teams
    get:
      summary: List all teams
      operationId: getTeams
      tags:
        - team
      responses:
        '200':
          description: A paged array of teams
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/team"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

    post:
      summary: Adds a new team
      description: Adds a new team
      operationId: addTeam
      tags:
        - team
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/team"
      responses:
        '200':
          description: A team has been added
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/team"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

  /team/{teamcode}:
    get:
      summary: Gets a team by the code
      description: Returns an individual team, identified by a code
      operationId: getTeamByCode
      parameters:
        - name: teamcode
          in: path
          required: true
          schema:
            type: string
          description: String that represents the code of a team
      tags:
        - team
      responses:
        '200':
          description: A team
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/team"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

    put:
      summary: Updates the given team
      description: Updates the entirety of a team
      operationId: updateTeam
      parameters:
        - name: teamcode
          in: path
          required: true
          schema:
            type: string
          description: String that represents the code of a team
      tags:
        - client
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/team"
      responses:
        '200':
          description: A team has been updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/team"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

    patch:
      summary: Updates some of the information of a team
      description: Updates part of a team
      parameters:
        - name: teamcode
          in: path
          required: true
          schema:
            type: string
          description: String that represents the code of a team
      operationId: patchTeam
      tags:
        - team
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/patchedTeam"
      responses:
        '200':
          description: A team has been updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/team"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

    delete:
      summary: Deletes the given team
      description: Deletes a team
      parameters:
        - name: teamcode
          in: path
          required: true
          schema:
            type: string
          description: String that represents the code of a team
      operationId: deleteTeam
      tags:
        - team
      responses:
        '200':
          description: A team has been deleted
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

  /team/{teamcode}/people:
    get:
      summary: Gets all the members of a team and its information
      description: Returns a list of people
      operationId: getTeamMembersInfo
      parameters:
        - name: teamcode
          in: path
          required: true
          schema:
            type: string
          description: String that represents the code of a team
      tags:
        - team
      responses:
        '200':
          description: A array of people
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/people"
        '400':
          description: Bad Request
        '404':
          description: Not Found
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"

components:
  schemas:
    project:
      type: object
      required:
        - code
        - clientCode
      properties:
        code:
          type: integer
          format: int64
        tag:
          type: string
        name:
          type: string
        desc:
          type: string
        initDate:
          type: string
          format: date
        endDate:
          type: string
          format: date
        clientCode:
          type: integer
          format: int64
        area:
          type: string
        domain:
          type: string
        duration:
          type: string
        guards:
          $ref: "#/components/schemas/guards"
        skills:
          type: array
          items:
            type: string
        roles:
          type: array
          items:
            $ref: "#/components/schemas/projectRoles"

    patchedProject:
      type: object
      properties:
        tag:
          type: string
        name:
          type: string
        desc:
          type: string
        initDate:
          type: string
          format: date
        endDate:
          type: string
          format: date
        clientCode:
          type: integer
          format: int64
        area:
          type: string
        domain:
          type: string
        duration:
          type: string
        guards:
          $ref: "#/components/schemas/guards"
        skills:
          type: array
          items:
            type: string
        roles:
          type: array
          items:
            $ref: "#/components/schemas/projectRoles"

    guards:
      type: string
      enum:
        - PASSIVE
        - ACTIVE
        - NO_GUARD

    projectRoles:
      type: object
      required:
        - rol
        - number
      properties:
        rol:
          type: string
        number:
          type: integer

    skill:
      type: object
      required:
        - code
        - name
        - subSkills
      properties:
        code:
          type: string
        name:
          type: string
        subSkills:
          type: array
          items:
            $ref: "#/components/schemas/skill"

    position:
      type: object
      required:
        - code
        - projectCode
        - clientCode
        - skills
      properties:
        code:
          type: string
        name:
          type: string
        projectCode:
          type: integer
          format: int64
        clientCode:
          type: integer
          format: int64
        openingDate:
          type: string
          format: date
        closingDate:
          type: string
          format: date
        priority:
          type: string
        mode:
          $ref: "#/components/schemas/mode"
        office:
          type: string
        role:
          type: string
        skills:
          type: array
          items:
            $ref: "#/components/schemas/positionSkill"
        managedBy:
          type: integer
          format: int64
        candidates:
          type: array
          items:
            $ref: "#/components/schemas/candidate"
        assigned:
          type: array
          items:
            $ref: "#/components/schemas/assignment"
        open:
          type: boolean

    patchedPosition:
      type: object
      properties:
        name:
          type: string
        projectCode:
          type: integer
          format: int64
        clientCode:
          type: integer
          format: int64
        openingDate:
          type: string
          format: date
        closingDate:
          type: string
          format: date
        priority:
          type: string
        mode:
          $ref: "#/components/schemas/mode"
        office:
          type: string
        role:
          type: string
        skills:
          type: array
          items:
            $ref: "#/components/schemas/positionSkill"
        managedBy:
          type: integer
          format: int64

    mode:
      type: string
      enum:
        - REMOTE
        - PRESENTIAL
        - MIX

    client:
      type: object
      required:
        - code
      properties:
        code:
          type: integer
          format: int64
        name:
          type: string
        industry:
          type: string
        country:
          type: string
        principalOffice:
          type: string
        HQ:
          type: string
        offices:
          type: array
          items:
            $ref: "#/components/schemas/office"

    patchedClient:
      type: object
      properties:
        name:
          type: string
        industry:
          type: string
        country:
          type: string
        principalOffice:
          type: string
        HQ:
          type: string
        offices:
          type: array
          items:
            $ref: "#/components/schemas/office"

    office:
      type: object
      required:
        - code
      properties:
        code:
          type: string
        name:
          type: string
        address:
          type: string
        phone:
          type: string
        geolocation:
          type: string

    candidate:
      type: object
      required:
        - code
        - candidateCode
        - skills
      properties:
        code:
          type: string
        introductionDate:
          type: string
          format: date
        resolutionDate:
          type: string
          format: date
        creationDate:
          type: string
          format: date
        status:
          type: string
          enum: [OPENED, ASSIGNED, INTERVIEWED, PRESENTED, OK, KO]
        candidateCode:
          type: integer
          format: int64
        positionCode:
          type: string
        skills:
          type: array
          items:
            $ref: "#/components/schemas/candidateSkill"

    patchedCandidate:
      type: object
      properties:
        introductionDate:
          type: string
          format: date
        resolutionDate:
          type: string
          format: date
        creationDate:
          type: string
          format: date
        status:
          type: string
          enum: [OPENED, ASSIGNED, INTERVIEWED, PRESENTED, OK, KO ]
        candidateCode:
          type: integer
          format: int64
        positionCode:
          type: string
        skills:
          type: array
          items:
            $ref: "#/components/schemas/candidateSkill"

    candidateSkill:
      type: object
      required:
      - code
      - level
      - experience
      properties:
        code:
          type: string
        level:
          type: string
          enum:
          - HIGH
          - MEDIUM
          - CONFIDENT
          - LOW
        experience:
          type: integer
          format: int32
        primary:
          type: boolean

    positionSkill:
      type: object
      required:
        - skill
        - levelReq
        - minLevel
        - minExp
      properties:
        skill:
          type: string
        levelReq:
          type: string
          enum:
            - MANDATORY
            - NICE_TO_HAVE
        minLevel:
          type: string
          enum:
            - HIGH
            - MEDIUM
            - LOW
        minExp:
          type: integer
          format: int32

    people:
      type: object
      required:
        - code
      properties:
        code:
          type: integer
          format: int64
        employeeId:
          type: string
        name:
          type: string
        surname:
          type: string
        birthDate:
          type: string
          format: date
        title:
          $ref: "#/components/schemas/title"
        roles:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
              role:
                type: string
              category:
                type: string
              initDate:
                type: string
                format: date
        knows:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
              code:
                type: string
              level:
                type: string
                enum:
                  - HIGH
                  - MEDIUM
                  - CONFIDENT
                  - LOW
              experience:
                type: integer
                format: int32
              primary:
                type: boolean
        work_with:
          type: array
          items: 
            type: string
        master:
          type: array
          items: 
            type: string
        assigns:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
              assignments:
                type: array
                items:
                  $ref: "#/components/schemas/assignment"
        interest:
          type: array
          items:
            type: string
        certificates:
          type: array
          items:
            $ref: "#/components/schemas/certificate"
        noClients:
          type: array
          items:
            type: string
        noProjects:
          type: array
          items:
            type: string

    patchedPeople:
      type: object
      properties:
        employeeId:
          type: string
        name:
          type: string
        surname:
          type: string
        birthDate:
          type: string
          format: date
        title:
          $ref: "#/components/schemas/title"
        roles:
          type: array
          items:
            type: object
            properties:
              role:
                type: string
              category:
                type: string
              initDate:
                type: string
                format: date
        knows:
          type: array
          items:
            type: object
            properties:
              code:
                type: string
              level:
                type: string
                enum:
                  - HIGH
                  - MEDIUM
                  - CONFIDENT
                  - LOW
              experience:
                type: integer
                format: int32
              primary:
                type: boolean
        work_with:
          type: array
          items:
            type: string
        master:
          type: array
          items:
            type: string
        assigns:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
              assignments:
                type: array
                items:
                  $ref: "#/components/schemas/assignment"
        interest:
          type: array
          items:
            type: string
        certificates:
          type: array
          items:
            $ref: "#/components/schemas/certificate"

    certificate:
      type: object
      properties:
        id:
          type: string
        code:
          type: string
        comments:
          type: string
        date:
          type: string
          format: date

    title:
      type: string
      enum:
        - PRINCIPAL
        - HEAD
        - DIRECTOR
        - EXPERT
        - SENIOR
        - DEVELOPER
        - JUNIOR

    assignment:
      type: object
      properties:
        id:
          type: string
        role:
          type: string
        initDate:
          type: string
          format: date
        endDate:
          type: string
          format: date
        assignDate:
          type: string
          format: date
        dedication:
          type: string

    team:
      type: object
      required:
        - code
      properties:
        code:
          type: string
        name:
          type: string
        description:
          type: string
        tags:
          type: array
          items:
            type: string
        members:
          type: array
          items:
            type: object
            properties:
              peopleCode:
                type: integer
                format: int64
              charge:
                type: string
                enum:
                  - DIRECTOR
                  - HEAD

    patchedTeam:
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        tags:
          type: array
          items:
            type: string
        members:
          type: array
          items:
            type: object
            properties:
              peopleCode:
                type: integer
                format: int64
              charge:
                type: string
                enum:
                  - DIRECTOR
                  - HEAD

    strategicTeamSkillNotUsed:
      type: object
      properties:
        teamName:
          type: string
        skillList:
          type: array
          items:
            type: string

    strategicTeamSkill:
      type: object
      properties:
        teamName:
          type: string
        skillList:
          type: array
          items:
            $ref: "#/components/schemas/strategicUse"

    strategicUse:
      type: object
      properties:
        skillName:
          type: string
        peopleList:
          type: array
          items:
            $ref: "#/components/schemas/people"

    error:
      type: object
      required:
        - code
        - message
      properties:
        code:
          type: integer
          format: int32
        message:
          type: string